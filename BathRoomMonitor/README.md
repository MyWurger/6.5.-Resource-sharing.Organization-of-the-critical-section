# Мониторы и многопоточность: ванная комната

## Описание

Данный пример кода демонстрирует ситуацию, когда группа людей (мужчины и женщины) должны поделить между собой использование одной ванной комнаты. Программа использует многопоточность для имитации входа и выхода людей из ванной комнаты. Код написан на языке Java и использует ключевые понятия семафоров: 'synchronized', 'wait()' и 'notifyAll()'.

Программа принимает от пользователя количество мужчин и женщин, которые должны посетить ванную комнату. Затем она создает отдельные потоки для каждого человека, имитирующие их вход в ванную комнату,нахождение там некоторое время и выход из нее.

Правила доступа в ванную комнату следующие:

- В ванной комнате может находиться ограниченное количество людей (в данной реализации это число равно 3).
- Если в ванной комнате есть люди противоположного пола, новые люди не могут войти.
- Если ванная комната свободна, то в нее могут войти люди любого пола.
- Если ванная комната занята людьми одного пола, то люди того же пола могут войти, пока не будет достигнут лимит вместимости.

Программа использует синхронизацию потоков для обеспечения соблюдения этих правил доступа.

## Цель проекта

Реализация классической задачи производителя и потребителя с помощью мониторов в многопоточной среде.

## Запуск программы

1. Скомпилируйте исходный код Java.
2. Запустите скомпилированную программу.
3. Введите количество мужчин и женщин, которые должны посетить ванную комнату.
4. Программа начнет имитацию входа и выхода людей из ванной комнаты, выводя соответствующие сообщения в консоль.
5. После того, как все люди посетят ванную комнату, программа завершится.

## Переменные

- `BUFFER_SIZE` - размер буфера для отслеживания доступа к ванной комнате.
- `buffer` - массив для хранения информации о том, кто находится в ванной комнате.
- `in` - индекс для добавления записи о входе человека в ванную комнату.
- `out` - индекс для добавления записи о выходе человека из ванной комнаты.
- `count` - количество человек в ванной комнате.
- `male_inside` - количество мужчин в ванной комнате.
- `female_inside` - количество женщин в ванной комнате.
- `male_total` - общее количество мужчин, которые должны посетить ванную комнату.
- `female_total` - общее количество женщин, которые должны посетить ванную комнату.
- `turn` - флаг, определяющий, чья очередь сейчас (мужчин или женщин).

## Методы

- `BathroomScheduler(int, int)` - конструктор класса, устанавливающий количество мужчин и женщин.
- `print_start()` - печатает приветственную ASCII-надпись.
- `print_end()` - печатает прощальную ASCII-надпись.
- `enterMale()` - синхронизированный метод для имитации входа мужчины в ванную комнату.
- `exitMale()` - синхронизированный метод для имитации выхода мужчины из ванной комнаты.
- `enterFemale()` - синхронизированный метод для имитации входа женщины в ванную комнату.
- `exitFemale()` - синхронизированный метод для имитации выхода женщины из ванной комнаты.
- `main(String[])` - главный метод, запускающий программу.